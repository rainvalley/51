C51 COMPILER V9.60.0.0   MAIN                                                              01/26/2020 14:31:38 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\main
                    -.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          #include<reg52.h>
   2          typedef unsigned int uint;
   3          typedef unsigned char uchar;
   4          uchar code dig_code[]={0xc0,0xf9,0xa4,0xb0,0x99,0x92,0x82,0xf8,0x80,0x90,0x88,0x80,0xc6,0xc0,0x86,0x8e,0xb
             -f,0x7f,0xff};
   5          sbit S7 = P3^0;        
   6          sbit S6 = P3^1;        
   7          sbit S5 = P3^2;        
   8          sbit S4 = P3^3;
   9          uchar mode=0;
  10          uchar times=0;
  11          void delay(uint t)
  12          {
  13   1        while(t--);
  14   1        while(t--);
  15   1      }
  16          
  17          void select(uchar channel)
  18          {
  19   1        switch(channel)
  20   1        {
  21   2          case 4: 
  22   2            P2=(P2&0X1f)|0X80;
  23   2            break;
  24   2          case 5: 
  25   2            P2=(P2&0X1f)|0Xa0;
  26   2            break;
  27   2          case 6: 
  28   2            P2=(P2&0X1f)|0Xc0;
  29   2            break;
  30   2          case 7: 
  31   2            P2=(P2&0X1f)|0Xe0;
  32   2            break;
  33   2        }
  34   1          
  35   1      }
  36          
  37          void display(uchar dig)
  38          {
  39   1        select(6);
  40   1        P0=0X01;
  41   1        select(7);
  42   1        P0=dig_code[dig];
  43   1      }
  44          
  45          void scankey_signal()
  46          {
  47   1        if(S7==0)
  48   1        {
  49   2          delay(100);
  50   2          if(S7==0)
  51   2          {
  52   3            while(S7==0);
  53   3            display(7);
C51 COMPILER V9.60.0.0   MAIN                                                              01/26/2020 14:31:38 PAGE 2   

  54   3          }
  55   2        }
  56   1        
  57   1        if(S6==0)
  58   1        {
  59   2          delay(100);
  60   2          if(S6==0)
  61   2          {
  62   3            display(6);
  63   3            while(S6==0);
  64   3            display(18);
  65   3          }
  66   2        }
  67   1        
  68   1        if(S5==0)
  69   1        {
  70   2          delay(100);
  71   2          if(S5==0)
  72   2          {
  73   3            display(5);
  74   3            while(S5==0);
  75   3            times+=1;
  76   3            if(times==10)
  77   3            {
  78   4              times=0;
  79   4            }
  80   3            display(times);
  81   3          }
  82   2        }
  83   1        
  84   1        if(S4==0)
  85   1        {
  86   2          delay(100);
  87   2          if(S4==0)
  88   2          {
  89   3            while(S4==0);
  90   3            display(4);
  91   3          }
  92   2        }
  93   1      }
  94          
  95          
  96          int main()
  97          {
  98   1        while(1)
  99   1        {
 100   2          scankey_signal();
 101   2        }
 102   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    192    ----
   CONSTANT SIZE    =     19    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
